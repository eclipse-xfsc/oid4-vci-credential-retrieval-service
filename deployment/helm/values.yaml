replicaCount: 1
name: credential-retrieval-service

image:
  repository: node-654e3bca7fbeeed18f81d7c7.ps-xaas.io/ocm-wstack
  name: credential-retrieval-service
  # -- Image tag
  # Uses .Chart.AppVersion if empty
  tag: "main"
  # -- Image sha, usually generated by the CI
  # Uses image.tag if empty
  #sha: ""
  # -- Image pull policy
  pullPolicy: Always
  # -- Image pull secret when internal image is used
  #pullSecrets: key

podAnnotations: {}
service:
  port: 8080
  type: ClusterIP
  addr: 0.0.0.0
resources:
  # requests:
  #   cpu: 25m
  #   memory: 64Mi
  # limits:
  #   cpu: 150m
  #   memory: 128Mi
security:
  runAsNonRoot: false
  runAsUid: 1000
  runAsGid: 1000


ingress:
  enabled: true
  annotations:
    nginx.org/client-max-body-size: 2K #Maximum Size of Credentials which are uploadable
    nginx.ingress.kubernetes.io/rewrite-target: /v1/tenants/tenant_space/offering/$2
  hosts:
    - host: cloud-wallet.xfsc.dev
      paths:
        - path: /api/offering(/|$)(.*)
          port: 8080
          pathType: ImplementationSpecific

  tls:
    - secretName: xfsc-wildcard
      hosts:
        - cloud-wallet.xfsc.dev
config:
  disableTLS: true
  country: DE
  region: EU
  signerTopic: signer-topic
  storageTopic: storage
  offeringTopic: offering
  offeringPolicy:
  metadataPolicy:
  nats:
    url: nats://nats.nats.svc.cluster.local:4222
    queuegroup: offering
    requestTimeOut: 10s
  cassandra:
    hosts: cassandra.cassandra.svc.cluster.local:9042
    keyspace: tenant_space
    user: cassandra
    passwordSecret: cassandra
    passwordKey: cassandra-password

 
